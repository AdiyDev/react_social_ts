(this.webpackJsonpreact_social_ts=this.webpackJsonpreact_social_ts||[]).push([[3],{298:function(e,t,s){e.exports={profileInfoWrapper:"ProfileInfo_profileInfoWrapper__1Pelv",imageBlock:"ProfileInfo_imageBlock__3_wPo",descriptionBlock:"ProfileInfo_descriptionBlock__3jsoS",mainPhoto:"ProfileInfo_mainPhoto__3ov2R",contact:"ProfileInfo_contact__3_Xqs",minPhoto:"ProfileInfo_minPhoto__21zar"}},299:function(e,t,s){e.exports={profileWrapper:"Profile_profileWrapper__laui4"}},300:function(e,t,s){e.exports={posts:"MyPosts_posts__9ow1v",postsBlock:"MyPosts_postsBlock__r7VTT",myPostsBlock:"MyPosts_myPostsBlock__1LlWL"}},301:function(e,t,s){e.exports={item:"Post_item__3Pzf7"}},302:function(e,t,s){"use strict";s.r(t);var o=s(3),c=s(36),n=s(37),i=s(39),r=s(38),a=s(1),l=s.n(a),j=s(299),u=s.n(j),b=s(98),p=s(298),d=s.n(p),f=s(52),h=s(0),O=function(e){var t=Object(a.useState)(!1),s=Object(b.a)(t,2),o=s[0],c=s[1],n=Object(a.useState)(e.status),i=Object(b.a)(n,2),r=i[0],l=i[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return Object(h.jsxs)("ul",{children:[!o&&Object(h.jsx)("li",{children:Object(h.jsx)("span",{onDoubleClick:function(){c(!0)},children:r||"------"})}),o&&Object(h.jsx)("li",{children:Object(h.jsx)("input",{autoFocus:!0,onBlur:function(){c(!1)},onChange:function(t){l(t.currentTarget.value),e.updateStatus(r)},onFocus:function(e){e.target.select()},value:r})})]})},m=s.p+"static/media/userPhotoEmpty.b6e40cdf.jpg",x=s(26),v=s(129),P=s(48),g=s.n(P),_=Object(v.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.profile,o=e.error;return Object(h.jsxs)("form",{onSubmit:t,children:[Object(h.jsx)("div",{children:Object(h.jsx)("button",{children:"save"})}),o&&Object(h.jsx)("div",{className:g.a.formSummaryError,children:o}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Full name"}),": ",Object(x.c)("Full name","fullName",[],x.a)]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Looking for a job"}),": ",Object(x.c)("","lookingForAJob",[],x.a,{type:"checkbox"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"My professional skills"}),":",Object(x.c)("My professional skills","lookingForAJobDescription",[],x.b)]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"About me"}),":",Object(x.c)("About me","aboutMe",[],x.b)]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Contacts"}),": ",Object.keys(s.contacts).map((function(e){return Object(h.jsx)("div",{className:d.a.contact,children:Object(h.jsxs)("b",{children:[e,": ",Object(x.c)(e,"contacts."+e,[],x.a)]})},e)}))]})]})})),k=function(e){var t=e.profile,s=e.isOwner,o=e.goToEditMode;return Object(h.jsxs)("div",{children:[s&&Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:o,children:"edit"})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Full name"}),": ",t.fullName]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(h.jsx)(y,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},y=function(e){var t=e.contactTitle,s=e.contactValue;return Object(h.jsxs)("div",{className:d.a.contact,children:[Object(h.jsx)("b",{children:t}),": ",s]})},S=function(e){var t=e.profile,s=e.status,o=e.updateStatus,c=e.isOwner,n=e.savePhoto,i=e.saveProfile,r=Object(a.useState)(!1),l=Object(b.a)(r,2),j=l[0],u=l[1];if(!t)return Object(h.jsx)(f.a,{});return Object(h.jsxs)("ul",{className:d.a.profileInfoWrapper,children:[Object(h.jsx)("li",{className:d.a.imageBlock,children:Object(h.jsx)("img",{src:"https://helpx.adobe.com/content/dam/help/en/photoshop/using/convert-color-image-black-white/jcr_content/main-pars/before_and_after/image-before/Landscape-Color.jpg",alt:"\u0428\u0430\u043f\u043a\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})}),Object(h.jsxs)("li",{className:d.a.descriptionBlock,children:[Object(h.jsx)("img",{src:t.photos.large||m,alt:""}),c&&Object(h.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&n(e.target.files[0])}}),j?Object(h.jsx)(_,{initialValues:t,profile:t,onSubmit:function(e){i(e).then((function(){u(!1)}))}}):Object(h.jsx)(k,{goToEditMode:function(){u(!0)},profile:t,isOwner:c}),Object(h.jsx)(O,{status:s,updateStatus:o})]})]})},w=s(300),I=s.n(w),N=s(301),B=s.n(N),M=function(e){return Object(h.jsxs)("li",{className:B.a.item,children:[Object(h.jsx)("img",{src:"http://www.petplan.com.au/blog/wp-content/uploads/2016/12/pet-insurance-dog-cat-8.jpg",alt:""}),e.message,Object(h.jsx)("span",{children:"like "}),e.likesCount]})},A=s(90),C=s(49),F=Object(C.a)(10),T=Object(v.a)({form:"ProfileAddNewPostForm"})((function(e){return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(h.jsx)("h3",{children:"My posts"}),Object(h.jsx)(A.a,{name:"newPostText",component:x.b,placeholder:"Post message",validate:[C.b,F]}),Object(h.jsx)("button",{children:"add post"})]})})),J=l.a.memo((function(e){var t=e.profilePage.posts.map((function(e){return Object(h.jsx)(M,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(h.jsxs)("div",{className:I.a.postsBlock,children:[Object(h.jsx)(T,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(h.jsx)("ul",{className:I.a.posts,children:t})]})})),W=s(16),D=s(97),E=Object(W.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){e(Object(D.a)(t))}}}))(J),L=function(e){return Object(h.jsxs)("div",{className:u.a.profileWrapper,children:[Object(h.jsx)(S,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile,savePhoto:e.savePhoto}),Object(h.jsx)(E,{})]})},U=s(11),z=s(10),V=function(e){Object(i.a)(s,e);var t=Object(r.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(h.jsx)(L,Object(o.a)(Object(o.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(l.a.Component);t.default=Object(z.d)(Object(W.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:D.d,getStatus:D.c,updateStatus:D.g,savePhoto:D.e,saveProfile:D.f}),U.g)(V)}}]);
//# sourceMappingURL=3.b38b7c0f.chunk.js.map